<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>School Signup - TazEd</title>
  <link rel="stylesheet" href="index.css">
  <style>
    .auth-body {
      background: #f7f9fb;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .auth-container {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 2px 12px rgba(35,41,70,0.08);
      padding: 40px 32px 32px 32px;
      min-width: 320px;
      max-width: 350px;
      width: 100%;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .auth-container h2 {
      margin-top: 0;
      margin-bottom: 24px;
      color: #232946;
      font-size: 1.6rem;
      font-weight: 600;
      letter-spacing: 1px;
    }
    .auth-container form {
      width: 100%;
      display: flex;
      flex-direction: column;
      gap: 16px;
      margin-bottom: 18px;
    }
    .auth-container input {
      padding: 12px 14px;
      border-radius: 8px;
      border: 1px solid #d1d5db;
      font-size: 1rem;
      background: #f7f9fb;
      color: #232946;
      transition: border 0.2s;
    }
    .auth-container input:focus {
      border: 1.5px solid #eebf63;
      outline: none;
    }
    .auth-container button[type="submit"] {
      background: #eebf63;
      color: #232946;
      border: none;
      border-radius: 8px;
      padding: 12px 0;
      font-size: 1.1rem;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s;
      margin-top: 8px;
    }
    .auth-container button[type="submit"]:hover {
      background: #ffd384;
    }
    .auth-container p {
      margin-top: 10px;
      color: #555;
      font-size: 1rem;
    }
    .auth-container a {
      color: #232946;
      text-decoration: underline;
      font-weight: 500;
      transition: color 0.2s;
    }
    .auth-container a:hover {
      color: #eebf63;
    }
    @media (max-width: 600px) {
      .auth-container {
        min-width: 0;
        max-width: 98vw;
        padding: 24px 8px;
      }
    }
  </style>
  <script type="module">
  // Import modular SDK components
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
  import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-firestore.js";

  const firebaseConfig = {
    apiKey: "AIzaSyABv0noSSixcS0ULDeN8weIg18KUJeRdJ4",
    authDomain: "TazED.firebaseapp.com",
    projectId: "tazed-7d8a3",
    storageBucket: "tazed-7d8a3.appspot.com",
    messagingSenderId: "474685959445",
    appId: "1:474685959445:web:d27bd418184b25dc050d1c"
  };

  const app = initializeApp(firebaseConfig);
  const db = getFirestore(app);

  // Example: form submission
  const form = document.getElementById("schoolSignupForm");
  form.addEventListener("submit", async (e) => {
    e.preventDefault();
    const schoolName = document.getElementById("schoolName").value;

    try {
      const docRef = await addDoc(collection(db, "schools"), {
        name: schoolName,
        createdAt: serverTimestamp()
      });
      alert("School registered with ID: " + docRef.id);
    } catch (error) {
      console.error("Error adding document: ", error);
    }
  });
</script>

</head>
<body class="auth-body">
  <div class="auth-container">
    <h2>Register Your School</h2>
    <form id="schoolSignupForm">
      <input type="text" id="schoolName" placeholder="School Name" required>
      <input type="text" id="schoolAddress" placeholder="School Address" required />
      <input type="email" id="schoolEmail" placeholder="School Email" required>
      <input type="password" id="schoolPassword" placeholder="Password" required>
      <button type="submit">Register School</button>
    </form>
    <p>Already have an account? <a href="login.html">Log In</a></p>
  </div>
  <script>
    document.getElementById('schoolSignupForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const name = document.getElementById('schoolName').value;
      const address = document.getElementById('schoolAddress').value;
      const email = document.getElementById('schoolEmail').value;
      const password = document.getElementById('schoolPassword').value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then((userCredential) => {
          const uid = userCredential.user.uid;
          return db.collection('schools').doc(uid).set({
            name: name,
            address: address,
            email: email,
            createdAt: firebase.firestore.FieldValue.serverTimestamp()
          });
        })
        .then(() => {
          alert("School registered successfully!");
          window.location.href = "login.html";
        })
        .catch((err) => alert(err.message));
    });
  </script>
  
</body>
</html>